{"ast":null,"code":"var _jsxFileName = \"D:\\\\golu\\\\utkarsh\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Home from './Home';\nimport Login from './auth/Login';\nimport Register from './auth/Register';\nimport Header from './layouts/Header';\nimport './App.css';\nimport axios from 'axios';\nexport const MyContext = React.createContext();\nexport default function App() {\n  const [state, setState] = useState({\n    token: undefined,\n    user: undefined\n  });\n  useEffect(() => {\n    async function checkLoggedIn() {\n      let token = localStorage.getItem('auth-token');\n\n      if (token === null) {\n        localStorage.setItem('auth-token', '');\n        token = '';\n      }\n\n      const tokenRes = await axios.post('http://localhost:5000/users//tokenIsValid', null, {\n        headers: {\n          \"x-auth-token\": token\n        }\n      });\n      console.log(tokenRes.data);\n\n      if (tokenRes.data) {\n        const userRes = await axios.get('http://localhost:5000/users/');\n      }\n    }\n\n    checkLoggedIn();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MyContext.Provider, {\n    value: {\n      state,\n      setState\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    component: Register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 45\n    }\n  })))));\n}","map":{"version":3,"sources":["D:/golu/utkarsh/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Switch","Route","Home","Login","Register","Header","axios","MyContext","createContext","App","state","setState","token","undefined","user","checkLoggedIn","localStorage","getItem","setItem","tokenRes","post","headers","console","log","data","userRes","get"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,aAAR,EAAuBC,MAAvB,EAA+BC,KAA/B,QAA2C,kBAA3C;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,SAAS,GAACX,KAAK,CAACY,aAAN,EAAhB;AACP,eAAe,SAASC,GAAT,GAAe;AAE1B,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAkBd,QAAQ,CAAC;AAC7Be,IAAAA,KAAK,EAACC,SADuB;AAE7BC,IAAAA,IAAI,EAACD;AAFwB,GAAD,CAAhC;AAKAf,EAAAA,SAAS,CAAC,MAAI;AACP,mBAAeiB,aAAf,GACC;AACI,UAAIH,KAAK,GAACI,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAV;;AACA,UAAGL,KAAK,KAAG,IAAX,EACA;AACII,QAAAA,YAAY,CAACE,OAAb,CAAqB,YAArB,EAAkC,EAAlC;AACAN,QAAAA,KAAK,GAAC,EAAN;AACH;;AACD,YAAMO,QAAQ,GAAC,MAAMb,KAAK,CAACc,IAAN,CAAW,2CAAX,EAAuD,IAAvD,EAA4D;AAC7EC,QAAAA,OAAO,EAAC;AACI,0BAAeT;AADnB;AADqE,OAA5D,CAArB;AAKAU,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACK,IAArB;;AACA,UAAGL,QAAQ,CAACK,IAAZ,EACA;AACI,cAAMC,OAAO,GAAC,MAAMnB,KAAK,CAACoB,GAAN,CAAU,8BAAV,CAApB;AACH;AACJ;;AACDX,IAAAA,aAAa;AACpB,GArBQ,EAqBP,EArBO,CAAT;AAsBA,sBACI,uDACO,oBAAC,SAAD,CAAW,QAAX;AAAoB,IAAA,KAAK,EAAE;AAACL,MAAAA,KAAD;AAAOC,MAAAA;AAAP,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACS,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACY,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADZ,eAEY,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAET,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADR,eAEQ,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,QAAlB;AAA2B,IAAA,SAAS,EAAEC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,eAGQ,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,WAAlB;AAA8B,IAAA,SAAS,EAAEC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHR,CAFZ,CADT,CADP,CADJ;AAeH","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport Home from './Home'\r\nimport Login from './auth/Login'\r\nimport Register from './auth/Register'\r\nimport Header from './layouts/Header'\r\nimport './App.css'\r\nimport axios from 'axios'\r\nexport const MyContext=React.createContext()\r\nexport default function App() {\r\n\r\n    const [state,setState] =useState({\r\n        token:undefined,\r\n        user:undefined\r\n    })\r\n\r\n    useEffect(()=>{\r\n           async function checkLoggedIn()\r\n            {\r\n                let token=localStorage.getItem('auth-token')\r\n                if(token===null)\r\n                {\r\n                    localStorage.setItem('auth-token','')\r\n                    token=''\r\n                }\r\n                const tokenRes=await axios.post('http://localhost:5000/users//tokenIsValid',null,{\r\n                    headers:{\r\n                                \"x-auth-token\":token\r\n                    }\r\n                })\r\n                console.log(tokenRes.data)\r\n                if(tokenRes.data)\r\n                {\r\n                    const userRes=await axios.get('http://localhost:5000/users/')\r\n                }\r\n            }\r\n            checkLoggedIn()\r\n    },[])\r\n    return (\r\n        <>\r\n               <MyContext.Provider value={{state,setState}}>\r\n                        <BrowserRouter>\r\n                                    <Header/>\r\n                                    <Switch>\r\n                                            <Route exact path='/' component={Home}/>\r\n                                            <Route exact path='/login' component={Login}/>\r\n                                            <Route exact path='/register' component={Register}/>\r\n                                    </Switch>\r\n                        </BrowserRouter>\r\n               </MyContext.Provider>\r\n              \r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}