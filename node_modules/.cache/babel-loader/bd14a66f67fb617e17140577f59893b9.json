{"ast":null,"code":"var _jsxFileName = \"D:\\\\golu\\\\utkarsh\\\\src\\\\App.js\";\n// import React, { useState, useEffect } from 'react'\n// import {BrowserRouter, Switch, Route} from 'react-router-dom'\n// import Home from './Home'\n// import Login from './auth/Login'\n// import Register from './auth/Register'\n// import Header from './layouts/Header'\n// import './App.css'\n// import axios from 'axios'\n// import UserContext from \"./Context/UserContext\"\n// export default function App() {\n//     const [userData,setuserData] =useState({\n//         token:undefined,\n//         user:undefined\n//     })\n//     useEffect(()=>{\n//            async function checkLoggedIn()\n//             {\n//                 let token=localStorage.getItem('auth-token')\n//                 if(token===null)\n//                 {\n//                     localStorage.setItem('auth-token','')\n//                     token=''\n//                 }\n//                 const tokenRes=await axios.post('http://localhost:5000/users/tokenIsValid',null,{\n//                     headers: { \"x-auth-token\": token }\n//                 })\n//                 console.log(tokenRes.data)\n//                 if(tokenRes.data)\n//                 {\n//                     const userRes=await axios.get('http://localhost:5000/users/',{\n//                         headers: { \"x-auth-token\": token } \n//                     })\n//                     setuserData({\n//                         token,\n//                         user:userRes.data,\n//                     })\n//                 }\n//             }\n//             checkLoggedIn()\n//     },[])\n//     return (\n//         <>\n//                         <BrowserRouter>\n//                                   <UserContext.Provider value={{userData,setuserData}}>\n//                                     <Header/>\n//                                     <Switch>\n//                                             <Route exact path='/' component={Home}/>\n//                                             <Route exact path='/login' component={Login}/>\n//                                             <Route exact path='/register' component={Register}/>\n//                                     </Switch>\n//                                     </UserContext.Provider>\n//                         </BrowserRouter>\n//         </>\n//     )\n// }\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport Header from \"./layouts/Header\";\nimport Home from \"./Home\";\nimport Login from \"./auth/Login\";\nimport Register from \"./auth/Register\";\nimport UserContext from \"./Context/UserContext\";\nimport \"./App.css\";\nexport default function App() {\n  const [userData, setUserData] = useState({\n    token: undefined,\n    user: undefined\n  });\n  useEffect(() => {\n    const checkLoggedIn = async () => {\n      let token = localStorage.getItem(\"auth-token\");\n\n      if (token === null) {\n        localStorage.setItem(\"auth-token\", \"\");\n        token = \"\";\n      }\n\n      const tokenRes = await Axios.post(\"http://localhost:5000/users/tokenIsValid\", null, {\n        headers: {\n          \"x-auth-token\": token\n        }\n      });\n\n      if (tokenRes.data) {\n        const userRes = await Axios.get(\"http://localhost:5000/users/\", {\n          headers: {\n            \"x-auth-token\": token\n          }\n        });\n        setUserData({\n          token,\n          user: userRes.data\n        });\n      }\n    };\n\n    checkLoggedIn();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      userData,\n      setUserData\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    component: Register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["D:/golu/utkarsh/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Switch","Route","Axios","Header","Home","Login","Register","UserContext","App","userData","setUserData","token","undefined","user","checkLoggedIn","localStorage","getItem","setItem","tokenRes","post","headers","data","userRes","get"],"mappings":"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","sourcesContent":["// import React, { useState, useEffect } from 'react'\r\n// import {BrowserRouter, Switch, Route} from 'react-router-dom'\r\n// import Home from './Home'\r\n// import Login from './auth/Login'\r\n// import Register from './auth/Register'\r\n// import Header from './layouts/Header'\r\n// import './App.css'\r\n// import axios from 'axios'\r\n// import UserContext from \"./Context/UserContext\"\r\n// export default function App() {\r\n\r\n//     const [userData,setuserData] =useState({\r\n//         token:undefined,\r\n//         user:undefined\r\n//     })\r\n\r\n//     useEffect(()=>{\r\n//            async function checkLoggedIn()\r\n//             {\r\n//                 let token=localStorage.getItem('auth-token')\r\n//                 if(token===null)\r\n//                 {\r\n//                     localStorage.setItem('auth-token','')\r\n//                     token=''\r\n//                 }\r\n//                 const tokenRes=await axios.post('http://localhost:5000/users/tokenIsValid',null,{\r\n//                     headers: { \"x-auth-token\": token }\r\n//                 })\r\n//                 console.log(tokenRes.data)\r\n//                 if(tokenRes.data)\r\n//                 {\r\n//                     const userRes=await axios.get('http://localhost:5000/users/',{\r\n//                         headers: { \"x-auth-token\": token } \r\n//                     })\r\n//                     setuserData({\r\n//                         token,\r\n//                         user:userRes.data,\r\n//                     })\r\n//                 }\r\n//             }\r\n//             checkLoggedIn()\r\n//     },[])\r\n//     return (\r\n//         <>\r\n              \r\n//                         <BrowserRouter>\r\n//                                   <UserContext.Provider value={{userData,setuserData}}>\r\n//                                     <Header/>\r\n//                                     <Switch>\r\n//                                             <Route exact path='/' component={Home}/>\r\n//                                             <Route exact path='/login' component={Login}/>\r\n//                                             <Route exact path='/register' component={Register}/>\r\n//                                     </Switch>\r\n//                                     </UserContext.Provider>\r\n//                         </BrowserRouter>\r\n              \r\n              \r\n//         </>\r\n//     )\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport Header from \"./layouts/Header\";\r\nimport Home from \"./Home\";\r\nimport Login from \"./auth/Login\";\r\nimport Register from \"./auth/Register\";\r\nimport UserContext from \"./Context/UserContext\";\r\n\r\nimport \"./App.css\";\r\n\r\nexport default function App() {\r\n  const [userData, setUserData] = useState({\r\n    token: undefined,\r\n    user: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkLoggedIn = async () => {\r\n      let token = localStorage.getItem(\"auth-token\");\r\n      if (token === null) {\r\n        localStorage.setItem(\"auth-token\", \"\");\r\n        token = \"\";\r\n      }\r\n      const tokenRes = await Axios.post(\r\n        \"http://localhost:5000/users/tokenIsValid\",\r\n        null,\r\n        { headers: { \"x-auth-token\": token } }\r\n      );\r\n      if (tokenRes.data) {\r\n        const userRes = await Axios.get(\"http://localhost:5000/users/\", {\r\n          headers: { \"x-auth-token\": token },\r\n        });\r\n        setUserData({\r\n          token,\r\n          user: userRes.data,\r\n        });\r\n      }\r\n    };\r\n\r\n    checkLoggedIn();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <UserContext.Provider value={{ userData, setUserData }}>\r\n          <Header />\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route path=\"/login\" component={Login} />\r\n              <Route path=\"/register\" component={Register} />\r\n            </Switch>\r\n          </div>\r\n        </UserContext.Provider>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}